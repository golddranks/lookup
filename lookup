#!/usr/bin/xcrun swift

import Foundation
import CoreServices

func main() {
  let args = [String](Process.arguments)

  if args.count < 2 {
    println("\n".join([
      "",
      "Usage:",
      "    \(args[0]) lackadaisical",
      "    \(args[0]) lazy susan",
      "",
      ]))
    return
  }

  var word = " ".join(args[1...(args.count - 1)])
  var range : CFRange = CFRangeMake(0, (word as NSString).length)

  var result : String? = DCSCopyTextDefinition(nil, word, range)?.takeRetainedValue()
  if result == nil {
    println("No entries found")
    return
  }

  println(result!)

}

main()
